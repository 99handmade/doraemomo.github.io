<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">


<script id="hexo-configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    hostname: new URL('https://doraemomo.github.io').hostname,
    root: '/',
    scheme: 'Gemini',
    version: '7.7.1',
    exturl: false,
    sidebar: {"position":"right","display":"post","padding":18,"offset":12,"onmobile":false},
    copycode: {"enable":false,"show_result":false,"style":null},
    back2top: {"enable":true,"sidebar":false,"scrollpercent":false},
    bookmark: {"enable":false,"color":"#222","save":"auto"},
    fancybox: false,
    mediumzoom: false,
    lazyload: false,
    pangu: false,
    comments: {"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},
    algolia: {
      appID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    },
    localsearch: {"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},
    path: '',
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}
  };
</script>

  <meta property="og:type" content="website">
<meta property="og:title" content="Doraemomo&#39;s site">
<meta property="og:url" content="https://doraemomo.github.io/index.html">
<meta property="og:site_name" content="Doraemomo&#39;s site">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="doraemomo">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://doraemomo.github.io/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome: true,
    isPost: false
  };
</script>

  <title>Doraemomo's site</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Doraemomo's site</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
  </div>

  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>Home</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i>Tags<span class="badge">48</span></a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i>Categories<span class="badge">36</span></a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>Archives<span class="badge">46</span></a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-fw fa-user"></i>About</a>

  </li>
        <li class="menu-item menu-item-booklist">

    <a href="/booklist/" rel="section"><i class="fa fa-fw fa-book list"></i>booklist</a>

  </li>
  </ul>

</nav>
</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content">
            

  <div class="posts-expand">
        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="https://doraemomo.github.io/2022/12/05/javascript-note/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="doraemomo">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Doraemomo's site">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2022/12/05/javascript-note/" class="post-title-link" itemprop="url">JavaScript Note</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2022-12-05 14:02:50 / Modified: 14:05:26" itemprop="dateCreated datePublished" datetime="2022-12-05T14:02:50+01:00">2022-12-05</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Programming-Language/" itemprop="url" rel="index">
                    <span itemprop="name">Programming Language</span>
                  </a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/2022/12/05/javascript-note/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2022/12/05/javascript-note/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="match-a-phone-number-with-regex-and-javascript">Match a phone number with Regex and JavaScript</h2>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> regex = <span class="regexp">/^(1[ -]?)?\d&#123;3&#125;[ -]?\d&#123;3&#125;[ -]?\d&#123;4&#125;$/</span>;</span><br><span class="line"><span class="keyword">const</span> phoneNumber = <span class="string">&#x27;1202-515-5555&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// test returns &#x27;true&#x27; if there&#x27;s a match and &#x27;false&#x27; if there is not</span></span><br><span class="line"><span class="keyword">const</span> match = regex.<span class="title function_">test</span>(phoneNumber);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="https://doraemomo.github.io/2022/11/03/dns-note/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="doraemomo">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Doraemomo's site">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2022/11/03/dns-note/" class="post-title-link" itemprop="url">DNS note</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2022-11-03 14:29:47" itemprop="dateCreated datePublished" datetime="2022-11-03T14:29:47+01:00">2022-11-03</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2022-11-04 12:05:32" itemprop="dateModified" datetime="2022-11-04T12:05:32+01:00">2022-11-04</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/DNS/" itemprop="url" rel="index">
                    <span itemprop="name">DNS</span>
                  </a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/2022/11/03/dns-note/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2022/11/03/dns-note/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>DNS解析不涉及端口.</p>
<p>DNS服务器有不同的类型: 递归解析器, 根域名服务器, TLD域名服务器 (Top Level Domain), 权威域名服务器.</p>
<p>根域名服务器一共有13台 (都是服务器集群, 通过Anycast路由来提供快速响应), 他们的IP地址是不变的, 集成在操作系统里.</p>
<p>直接输入dig命令, 就会得到根服务器的信息</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dig</span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr class="header">
<th style="text-align: center;">Root Server</th>
<th style="text-align: center;">IPv4</th>
<th style="text-align: center;">IPv6</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">a.root-servers.net</td>
<td style="text-align: center;">198.41.0.4</td>
<td style="text-align: center;">2001:503:ba3e::2:30</td>
</tr>
<tr class="even">
<td style="text-align: center;">b.root-servers.net</td>
<td style="text-align: center;">199.9.14.201</td>
<td style="text-align: center;">2001:500:200::b</td>
</tr>
<tr class="odd">
<td style="text-align: center;">c.root-servers.net</td>
<td style="text-align: center;">192.33.4.12</td>
<td style="text-align: center;">2001:500:2::c</td>
</tr>
<tr class="even">
<td style="text-align: center;">d.root-servers.net</td>
<td style="text-align: center;">199.7.91.13</td>
<td style="text-align: center;">2001:500:2d::d</td>
</tr>
<tr class="odd">
<td style="text-align: center;">e.root-servers.net</td>
<td style="text-align: center;">192.203.230.10</td>
<td style="text-align: center;">2001:500:a8::e</td>
</tr>
<tr class="even">
<td style="text-align: center;">f.root-servers.net</td>
<td style="text-align: center;">192.5.5.241</td>
<td style="text-align: center;">2001:500:2f::f</td>
</tr>
<tr class="odd">
<td style="text-align: center;">g.root-servers.net</td>
<td style="text-align: center;">192.112.36.4</td>
<td style="text-align: center;">2001:500:12::d0d</td>
</tr>
<tr class="even">
<td style="text-align: center;">h.root-servers.net</td>
<td style="text-align: center;">198.97.190.53</td>
<td style="text-align: center;">2001:500:1::53</td>
</tr>
<tr class="odd">
<td style="text-align: center;">i.root-servers.net</td>
<td style="text-align: center;">192.36.148.17</td>
<td style="text-align: center;">2001:7fe::53</td>
</tr>
<tr class="even">
<td style="text-align: center;">j.root-servers.net</td>
<td style="text-align: center;">192.58.128.30</td>
<td style="text-align: center;">2001:503:c27::2:30</td>
</tr>
<tr class="odd">
<td style="text-align: center;">k.root-servers.net</td>
<td style="text-align: center;">193.0.14.129</td>
<td style="text-align: center;">2001:7fd::1</td>
</tr>
<tr class="even">
<td style="text-align: center;">l.root-servers.net</td>
<td style="text-align: center;">199.7.83.42</td>
<td style="text-align: center;">2001:500:9f::42</td>
</tr>
<tr class="odd">
<td style="text-align: center;">m.root-servers.net</td>
<td style="text-align: center;">202.12.27.33</td>
<td style="text-align: center;">2001:dc3::35</td>
</tr>
</tbody>
</table>
<h2 id="dns递归解析器">DNS递归解析器</h2>
<p>递归解析器作为客户端与DNS域名服务器的中间人, DNS的分级解析下行过程 (从根服务器到顶级服务器到权威服务器)是由递归解析器完成的, 不是由DNS服务器完成的. 大多数Internet用户使用他们ISP提供的递归解析器，但还有其他可用选择, 例如Cloudflare的1.1.1.1.</p>
<h2 id="manually-add-host-手动添加dns记录">Manually add host 手动添加DNS记录</h2>
<p>如果域名在本地文件中, 访问该域名时就不会询问域名服务器.</p>
<p>Edit first <strong>/etc/hosts</strong>, then flush local DNS cache:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dscacheutil -flushcache</span><br></pre></td></tr></table></figure>
<h2 id="dig命令">Dig命令</h2>
<p>可以指定域名服务器</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dig @&lt;DNS server IP/DNS server URL&gt; &lt;domaine name&gt;</span><br></pre></td></tr></table></figure>
<p>可以查询所有的信息</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dig +nocmd google.com any +noall +answer</span><br></pre></td></tr></table></figure>
<h2 id="dns查询流程">DNS查询流程</h2>
<p>为了更好的的理解DNS的查询步骤, 我们可以用dig命令来做一个释例.</p>
<p>递归解析器帮助完成逐级查询的全部任务, 所以通过递归解析器查询, 可以直接得到IP</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dig @1.1.1.1 google.com</span><br></pre></td></tr></table></figure>
<p>因为递归解析器干了所有的活, 所以在<strong>ANSWER SECTION</strong>里, 我们直接得到了IP地址</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">; &lt;&lt;&gt;&gt; DiG 9.10.6 &lt;&lt;&gt;&gt; @1.1.1.1 google.com</span><br><span class="line">; (1 server found)</span><br><span class="line">;; global options: +cmd</span><br><span class="line">;; Got answer:</span><br><span class="line">;; -&gt;&gt;HEADER&lt;&lt;- opcode: QUERY, status: NOERROR, id: 36771</span><br><span class="line">;; flags: qr rd ra; QUERY: 1, ANSWER: 1, AUTHORITY: 0, ADDITIONAL: 1</span><br><span class="line"></span><br><span class="line">;; OPT PSEUDOSECTION:</span><br><span class="line">; EDNS: version: 0, flags:; udp: 1232</span><br><span class="line">;; QUESTION SECTION:</span><br><span class="line">;google.com.			IN	A</span><br><span class="line"></span><br><span class="line">;; ANSWER SECTION:</span><br><span class="line">google.com.		18	IN	A	142.250.201.174</span><br><span class="line"></span><br><span class="line">;; Query time: 43 msec</span><br><span class="line">;; SERVER: 1.1.1.1#53(1.1.1.1)</span><br><span class="line">;; WHEN: Thu Nov 03 18:04:36 CET 2022</span><br><span class="line">;; MSG SIZE  rcvd: 55</span><br></pre></td></tr></table></figure>
<p>如果我们尝试去询问根服务器,</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dig @198.41.0.4 google.com</span><br></pre></td></tr></table></figure>
<p>根服务器并没有域名的具体IP, 相应的, 根服务器会发送给我们顶级服务器的地址在<strong>AUTHORITY SECTION</strong>里, 以便于逐级查询. 换句话说, 根服务器只提供顶级服务器的信息.</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line">; &lt;&lt;&gt;&gt; DiG 9.10.6 &lt;&lt;&gt;&gt; @198.41.0.4 google.com</span><br><span class="line">; (1 server found)</span><br><span class="line">;; global options: +cmd</span><br><span class="line">;; Got answer:</span><br><span class="line">;; -&gt;&gt;HEADER&lt;&lt;- opcode: QUERY, status: NOERROR, id: 2331</span><br><span class="line">;; flags: qr rd; QUERY: 1, ANSWER: 0, AUTHORITY: 13, ADDITIONAL: 27</span><br><span class="line">;; WARNING: recursion requested but not available</span><br><span class="line"></span><br><span class="line">;; OPT PSEUDOSECTION:</span><br><span class="line">; EDNS: version: 0, flags:; udp: 4096</span><br><span class="line">;; QUESTION SECTION:</span><br><span class="line">;google.com.			IN	A</span><br><span class="line"></span><br><span class="line">;; AUTHORITY SECTION:</span><br><span class="line">com.			172800	IN	NS	e.gtld-servers.net.</span><br><span class="line">com.			172800	IN	NS	b.gtld-servers.net.</span><br><span class="line">com.			172800	IN	NS	j.gtld-servers.net.</span><br><span class="line">com.			172800	IN	NS	m.gtld-servers.net.</span><br><span class="line">com.			172800	IN	NS	i.gtld-servers.net.</span><br><span class="line">com.			172800	IN	NS	f.gtld-servers.net.</span><br><span class="line">com.			172800	IN	NS	a.gtld-servers.net.</span><br><span class="line">com.			172800	IN	NS	g.gtld-servers.net.</span><br><span class="line">com.			172800	IN	NS	h.gtld-servers.net.</span><br><span class="line">com.			172800	IN	NS	l.gtld-servers.net.</span><br><span class="line">com.			172800	IN	NS	k.gtld-servers.net.</span><br><span class="line">com.			172800	IN	NS	c.gtld-servers.net.</span><br><span class="line">com.			172800	IN	NS	d.gtld-servers.net.</span><br><span class="line"></span><br><span class="line">;; ADDITIONAL SECTION:</span><br><span class="line">e.gtld-servers.net.	172800	IN	A	192.12.94.30</span><br><span class="line">e.gtld-servers.net.	172800	IN	AAAA	2001:502:1ca1::30</span><br><span class="line">b.gtld-servers.net.	172800	IN	A	192.33.14.30</span><br><span class="line">b.gtld-servers.net.	172800	IN	AAAA	2001:503:231d::2:30</span><br><span class="line">j.gtld-servers.net.	172800	IN	A	192.48.79.30</span><br><span class="line">j.gtld-servers.net.	172800	IN	AAAA	2001:502:7094::30</span><br><span class="line">m.gtld-servers.net.	172800	IN	A	192.55.83.30</span><br><span class="line">m.gtld-servers.net.	172800	IN	AAAA	2001:501:b1f9::30</span><br><span class="line">i.gtld-servers.net.	172800	IN	A	192.43.172.30</span><br><span class="line">i.gtld-servers.net.	172800	IN	AAAA	2001:503:39c1::30</span><br><span class="line">f.gtld-servers.net.	172800	IN	A	192.35.51.30</span><br><span class="line">f.gtld-servers.net.	172800	IN	AAAA	2001:503:d414::30</span><br><span class="line">a.gtld-servers.net.	172800	IN	A	192.5.6.30</span><br><span class="line">a.gtld-servers.net.	172800	IN	AAAA	2001:503:a83e::2:30</span><br><span class="line">g.gtld-servers.net.	172800	IN	A	192.42.93.30</span><br><span class="line">g.gtld-servers.net.	172800	IN	AAAA	2001:503:eea3::30</span><br><span class="line">h.gtld-servers.net.	172800	IN	A	192.54.112.30</span><br><span class="line">h.gtld-servers.net.	172800	IN	AAAA	2001:502:8cc::30</span><br><span class="line">l.gtld-servers.net.	172800	IN	A	192.41.162.30</span><br><span class="line">l.gtld-servers.net.	172800	IN	AAAA	2001:500:d937::30</span><br><span class="line">k.gtld-servers.net.	172800	IN	A	192.52.178.30</span><br><span class="line">k.gtld-servers.net.	172800	IN	AAAA	2001:503:d2d::30</span><br><span class="line">c.gtld-servers.net.	172800	IN	A	192.26.92.30</span><br><span class="line">c.gtld-servers.net.	172800	IN	AAAA	2001:503:83eb::30</span><br><span class="line">d.gtld-servers.net.	172800	IN	A	192.31.80.30</span><br><span class="line">d.gtld-servers.net.	172800	IN	AAAA	2001:500:856e::30</span><br><span class="line"></span><br><span class="line">;; Query time: 81 msec</span><br><span class="line">;; SERVER: 198.41.0.4#53(198.41.0.4)</span><br><span class="line">;; WHEN: Fri Nov 04 10:39:58 CET 2022</span><br><span class="line">;; MSG SIZE  rcvd: 835</span><br></pre></td></tr></table></figure>
<p>根据根服务器提供的顶级服务器的信息, 我们继续询问顶级服务器</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dig @192.12.94.30 google.com</span><br></pre></td></tr></table></figure>
<p>顶级域名服务器会发给我们权威域名服务器的信息, 在<strong>AUTHORITY SECTION</strong>里面, 换句话说, 顶级域名服务器,只记录了权威服务器的信息</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">; &lt;&lt;&gt;&gt; DiG 9.10.6 &lt;&lt;&gt;&gt; @192.12.94.30 google.com</span><br><span class="line">; (1 server found)</span><br><span class="line">;; global options: +cmd</span><br><span class="line">;; Got answer:</span><br><span class="line">;; -&gt;&gt;HEADER&lt;&lt;- opcode: QUERY, status: NOERROR, id: 35625</span><br><span class="line">;; flags: qr rd; QUERY: 1, ANSWER: 0, AUTHORITY: 4, ADDITIONAL: 9</span><br><span class="line">;; WARNING: recursion requested but not available</span><br><span class="line"></span><br><span class="line">;; OPT PSEUDOSECTION:</span><br><span class="line">; EDNS: version: 0, flags:; udp: 4096</span><br><span class="line">;; QUESTION SECTION:</span><br><span class="line">;google.com.			IN	A</span><br><span class="line"></span><br><span class="line">;; AUTHORITY SECTION:</span><br><span class="line">google.com.		172800	IN	NS	ns2.google.com.</span><br><span class="line">google.com.		172800	IN	NS	ns1.google.com.</span><br><span class="line">google.com.		172800	IN	NS	ns3.google.com.</span><br><span class="line">google.com.		172800	IN	NS	ns4.google.com.</span><br><span class="line"></span><br><span class="line">;; ADDITIONAL SECTION:</span><br><span class="line">ns2.google.com.		172800	IN	AAAA	2001:4860:4802:34::a</span><br><span class="line">ns2.google.com.		172800	IN	A	216.239.34.10</span><br><span class="line">ns1.google.com.		172800	IN	AAAA	2001:4860:4802:32::a</span><br><span class="line">ns1.google.com.		172800	IN	A	216.239.32.10</span><br><span class="line">ns3.google.com.		172800	IN	AAAA	2001:4860:4802:36::a</span><br><span class="line">ns3.google.com.		172800	IN	A	216.239.36.10</span><br><span class="line">ns4.google.com.		172800	IN	AAAA	2001:4860:4802:38::a</span><br><span class="line">ns4.google.com.		172800	IN	A	216.239.38.10</span><br><span class="line"></span><br><span class="line">;; Query time: 51 msec</span><br><span class="line">;; SERVER: 192.12.94.30#53(192.12.94.30)</span><br><span class="line">;; WHEN: Fri Nov 04 11:06:09 CET 2022</span><br><span class="line">;; MSG SIZE  rcvd: 287</span><br></pre></td></tr></table></figure>
<p>我们继续询问权威服务器</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dig @216.239.34.10 google.com</span><br></pre></td></tr></table></figure>
<p>权威服务器终于发给我们想要的IP地址了, 在<strong>ANSWER SECTION</strong>字段里</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">; &lt;&lt;&gt;&gt; DiG 9.10.6 &lt;&lt;&gt;&gt; @216.239.34.10 google.com</span><br><span class="line">; (1 server found)</span><br><span class="line">;; global options: +cmd</span><br><span class="line">;; Got answer:</span><br><span class="line">;; -&gt;&gt;HEADER&lt;&lt;- opcode: QUERY, status: NOERROR, id: 40547</span><br><span class="line">;; flags: qr aa rd; QUERY: 1, ANSWER: 1, AUTHORITY: 0, ADDITIONAL: 1</span><br><span class="line">;; WARNING: recursion requested but not available</span><br><span class="line"></span><br><span class="line">;; OPT PSEUDOSECTION:</span><br><span class="line">; EDNS: version: 0, flags:; udp: 512</span><br><span class="line">;; QUESTION SECTION:</span><br><span class="line">;google.com.			IN	A</span><br><span class="line"></span><br><span class="line">;; ANSWER SECTION:</span><br><span class="line">google.com.		300	IN	A	142.250.178.142</span><br><span class="line"></span><br><span class="line">;; Query time: 50 msec</span><br><span class="line">;; SERVER: 216.239.34.10#53(216.239.34.10)</span><br><span class="line">;; WHEN: Fri Nov 04 11:09:45 CET 2022</span><br><span class="line">;; MSG SIZE  rcvd: 55</span><br></pre></td></tr></table></figure>
<p>我们总结一下, 域名解析系统就是一个分级系统, 逐级向下, 根服务器, 顶级服务器, 权威服务器分别负责记录他们那一级别的信息, 查询是逐级向下的, 而递归解析服务器的角色比较特殊, 他就像一个管家, 把逐级查询的任务都包了, 直接发给我们想要的结果.</p>
<h2 id="host命令">host命令</h2>
<p>host命令可以得到比较综合的信息.</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">host -a &lt;domaine name&gt; </span><br></pre></td></tr></table></figure>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">Trying &quot;visiocheck.fr&quot;</span><br><span class="line">;; -&gt;&gt;HEADER&lt;&lt;- opcode: QUERY, status: NOERROR, id: 6105</span><br><span class="line">;; flags: qr rd ra; QUERY: 1, ANSWER: 9, AUTHORITY: 0, ADDITIONAL: 2</span><br><span class="line"></span><br><span class="line">;; QUESTION SECTION:</span><br><span class="line">;visiocheck.fr.			IN	ANY</span><br><span class="line"></span><br><span class="line">;; ANSWER SECTION:</span><br><span class="line">visiocheck.fr.		3189	IN	A	80.12.14.37</span><br><span class="line">visiocheck.fr.		3201	IN	NS	ns1.pcreseaux.com.</span><br><span class="line">visiocheck.fr.		3201	IN	NS	ns2.lhebergeur.org.</span><br><span class="line">visiocheck.fr.		3201	IN	SOA	ns1.pcreseaux.com. postmaster.visiocheck.fr. 2021012107 3600 900 1209600 3600</span><br><span class="line">visiocheck.fr.		3201	IN	MX	1 mx1.mail.ovh.net.</span><br><span class="line">visiocheck.fr.		3201	IN	MX	100 mx3.mail.ovh.net.</span><br><span class="line">visiocheck.fr.		3201	IN	MX	5 mx2.mail.ovh.net.</span><br><span class="line">visiocheck.fr.		3201	IN	TXT	&quot;v=spf1 include:mx.ovh.com include:spf.protection.outlook.com ip4:34.231.41.20 ~all&quot;</span><br><span class="line">visiocheck.fr.		3201	IN	TXT	&quot;1|www.visiocheck.fr&quot;</span><br><span class="line"></span><br><span class="line">;; ADDITIONAL SECTION:</span><br><span class="line">ns1.pcreseaux.com.	81242	IN	A	185.103.140.84</span><br><span class="line">ns2.lhebergeur.org.	1497	IN	A	185.103.140.85</span><br><span class="line"></span><br><span class="line">Received 388 bytes from 192.168.1.4#53 in 52 ms</span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr class="header">
<th style="text-align: center;">Key</th>
<th style="text-align: center;">Content</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">A</td>
<td style="text-align: center;">IPv4地址</td>
</tr>
<tr class="even">
<td style="text-align: center;">AAAA</td>
<td style="text-align: center;">IPv6地址</td>
</tr>
<tr class="odd">
<td style="text-align: center;">NS</td>
<td style="text-align: center;">Name Server 域名服务器</td>
</tr>
<tr class="even">
<td style="text-align: center;">SOA</td>
<td style="text-align: center;">Start of Authority 起始授权机构</td>
</tr>
<tr class="odd">
<td style="text-align: center;">MX</td>
<td style="text-align: center;">Mail Exchange 邮件交换</td>
</tr>
<tr class="even">
<td style="text-align: center;">CNAME</td>
<td style="text-align: center;">Canonical Name 规范名</td>
</tr>
<tr class="odd">
<td style="text-align: center;">PTR</td>
<td style="text-align: center;">Pointer 指针</td>
</tr>
<tr class="even">
<td style="text-align: center;">TXT</td>
<td style="text-align: center;">Text</td>
</tr>
<tr class="odd">
<td style="text-align: center;">SRV</td>
<td style="text-align: center;">Service</td>
</tr>
</tbody>
</table>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="https://doraemomo.github.io/2022/10/21/cryptography/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="doraemomo">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Doraemomo's site">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2022/10/21/cryptography/" class="post-title-link" itemprop="url">Cryptography 密码学</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2022-10-21 14:55:43" itemprop="dateCreated datePublished" datetime="2022-10-21T14:55:43+02:00">2022-10-21</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2022-12-13 17:46:37" itemprop="dateModified" datetime="2022-12-13T17:46:37+01:00">2022-12-13</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/cryptography/" itemprop="url" rel="index">
                    <span itemprop="name">cryptography</span>
                  </a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/2022/10/21/cryptography/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2022/10/21/cryptography/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>X.509 基本算是公钥证书的标准格式, 看一下IETF文档的更新历史就可见一斑</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://www.rfc-editor.org/rfc/rfc2459">RFC2459</a> (被3280替代, 已过期)</li>
<li><a target="_blank" rel="noopener" href="https://www.rfc-editor.org/rfc/rfc3280">RFC3280</a> (被5280替代, 已过期)</li>
<li><a target="_blank" rel="noopener" href="https://www.rfc-editor.org/rfc/rfc4325">RFC4325</a> (补充3280, 已过期)</li>
<li><a target="_blank" rel="noopener" href="https://www.rfc-editor.org/rfc/rfc4630">RFC4630</a> (补充3280, 已过期)</li>
<li><a target="_blank" rel="noopener" href="https://www.rfc-editor.org/rfc/rfc5280">RFC5280</a></li>
<li><a target="_blank" rel="noopener" href="https://www.rfc-editor.org/rfc/rfc6818">RFC6818</a> (补充, 5280)</li>
<li><a target="_blank" rel="noopener" href="https://www.rfc-editor.org/rfc/rfc8398">RFC8398</a> (补充, 5280)</li>
<li><a target="_blank" rel="noopener" href="https://www.rfc-editor.org/rfc/rfc8399">RFC8399</a> (补充, 5280)</li>
</ul>
<p>不同的证书编码格式</p>
<p>PEM Privacy Enhanced Mail 内容一般是BASE64的, 查看证书信息</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">openssl x509 -in &lt;.pem&gt; -text -noout</span><br></pre></td></tr></table></figure>
<p>DER Distinguished Encoding Rules 二进制格式, 查看证书信息</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">openssl x509 -in &lt;.der&gt; -inform der -text -noout</span><br></pre></td></tr></table></figure>
<p>相关的文件扩展名</p>
<p>CRT, CER</p>
<p>KEY 存放公钥或者私钥</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">openssl rsa -in mykey.key -text -noout</span><br></pre></td></tr></table></figure>
<p>CSR Signing Request</p>
<h3 id="工具">工具</h3>
<ul>
<li>keytool</li>
<li>openssl</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">openssl rsa -in mykey.key -text -noout  </span><br></pre></td></tr></table></figure>
<h2 id="openssl">OpenSSL</h2>
<h3 id="password">password</h3>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">openssl rand -base64 6</span><br><span class="line"></span><br><span class="line">openssl rand -hex 4</span><br></pre></td></tr></table></figure>
<h3 id="generate-rsa-private-key">generate RSA private key</h3>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">openssl genrsa</span><br></pre></td></tr></table></figure>
<p>more parameters for generation</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">openssl genrsa -out private_pkcs1.pem 2048</span><br></pre></td></tr></table></figure>
<p>2048 is the length of the modulus, -out redirect the key to a file for example.</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="https://doraemomo.github.io/2022/09/21/nodejs-note/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="doraemomo">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Doraemomo's site">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2022/09/21/nodejs-note/" class="post-title-link" itemprop="url">Node.js note</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2022-09-21 16:59:26 / Modified: 17:21:15" itemprop="dateCreated datePublished" datetime="2022-09-21T16:59:26+02:00">2022-09-21</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/runtime/" itemprop="url" rel="index">
                    <span itemprop="name">runtime</span>
                  </a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/2022/09/21/nodejs-note/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2022/09/21/nodejs-note/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="查看包的版本">查看包的版本</h2>
<p>所有历史版本</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm view &lt;package name&gt; versions</span><br></pre></td></tr></table></figure>
<p>最新版本</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm view &lt;package name&gt; version</span><br></pre></td></tr></table></figure>
<p>列出可更新的版本</p>
<p>本地</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm outdated</span><br></pre></td></tr></table></figure>
<p>全局</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm outdated -g</span><br></pre></td></tr></table></figure>
<p>更新包</p>
<p>更新本地指定包</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm update &lt;package name&gt;</span><br></pre></td></tr></table></figure>
<p>更新全局指定包</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm update -g &lt;package name&gt; </span><br></pre></td></tr></table></figure>
<p>更新所有本地</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm update</span><br></pre></td></tr></table></figure>
<p>更新所有全局</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm update -g</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="https://doraemomo.github.io/2022/06/16/protocol-buffers-note/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="doraemomo">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Doraemomo's site">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2022/06/16/protocol-buffers-note/" class="post-title-link" itemprop="url">Protocol Buffers Note Protocol Buffers笔记</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2022-06-16 11:43:04 / Modified: 11:58:16" itemprop="dateCreated datePublished" datetime="2022-06-16T11:43:04+02:00">2022-06-16</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Serialization/" itemprop="url" rel="index">
                    <span itemprop="name">Serialization</span>
                  </a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/2022/06/16/protocol-buffers-note/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2022/06/16/protocol-buffers-note/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="c-sharp">C sharp</h2>
<h3 id="compile-the-proto-file">Compile the proto file</h3>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">protoc -I=$SRC_DIR --csharp_out=$DST_DIR $SRC_DIR/your.proto</span><br></pre></td></tr></table></figure>
<h3 id="dependencies">Dependencies</h3>
<p>NuGet Package Manager will manage the dependencies, just install the Google.protobuf package, which is the official one.</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="https://doraemomo.github.io/2022/06/13/websocket-note/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="doraemomo">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Doraemomo's site">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2022/06/13/websocket-note/" class="post-title-link" itemprop="url">WebSocket Note WebSocket笔记</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2022-06-13 15:38:38 / Modified: 15:59:04" itemprop="dateCreated datePublished" datetime="2022-06-13T15:38:38+02:00">2022-06-13</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/TCP/" itemprop="url" rel="index">
                    <span itemprop="name">TCP</span>
                  </a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/TCP/Socket/" itemprop="url" rel="index">
                    <span itemprop="name">Socket</span>
                  </a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/2022/06/13/websocket-note/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2022/06/13/websocket-note/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p><a target="_blank" rel="noopener" href="https://datatracker.ietf.org/doc/html/rfc6455">The WebSocket Protocol</a></p>
<h2 id="opcode">Opcode</h2>
<p>Opcode表明了WebSocket每一帧的类型, 是一个范围从0到15的整数. Opcode位于每一帧第一字节的低四位比特, 参见协议文档6455的5.2段.</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"> 0                   1                   2                   3</span><br><span class="line"> 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1</span><br><span class="line">+-+-+-+-+-------+-+-------------+-------------------------------+</span><br><span class="line">|F|R|R|R| opcode|M| Payload len |    Extended payload length    |</span><br><span class="line">|I|S|S|S|  (4)  |A|     (7)     |             (16/64)           |</span><br><span class="line">|N|V|V|V|       |S|             |   (if payload len==126/127)   |</span><br><span class="line">| |1|2|3|       |K|             |                               |</span><br><span class="line">+-+-+-+-+-------+-+-------------+ - - - - - - - - - - - - - - - +</span><br><span class="line">|     Extended payload length continued, if payload len == 127  |</span><br><span class="line">+ - - - - - - - - - - - - - - - +-------------------------------+</span><br><span class="line">|                               |Masking-key, if MASK set to 1  |</span><br><span class="line">+-------------------------------+-------------------------------+</span><br><span class="line">| Masking-key (continued)       |          Payload Data         |</span><br><span class="line">+-------------------------------- - - - - - - - - - - - - - - - +</span><br><span class="line">:                     Payload Data continued ...                :</span><br><span class="line">+ - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - +</span><br><span class="line">|                     Payload Data continued ...                |</span><br><span class="line">+---------------------------------------------------------------+</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="https://doraemomo.github.io/2022/04/22/aws-note/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="doraemomo">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Doraemomo's site">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2022/04/22/aws-note/" class="post-title-link" itemprop="url">AWS Note</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2022-04-22 11:21:21" itemprop="dateCreated datePublished" datetime="2022-04-22T11:21:21+02:00">2022-04-22</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2022-12-13 12:00:55" itemprop="dateModified" datetime="2022-12-13T12:00:55+01:00">2022-12-13</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/devops/" itemprop="url" rel="index">
                    <span itemprop="name">devops</span>
                  </a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/devops/server/" itemprop="url" rel="index">
                    <span itemprop="name">server</span>
                  </a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/2022/04/22/aws-note/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2022/04/22/aws-note/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>一篇比较AWS不同区域和服务收费的博文 <a target="_blank" rel="noopener" href="https://www.concurrencylabs.com/blog/choose-your-aws-region-wisely/">https://www.concurrencylabs.com/blog/choose-your-aws-region-wisely/</a></p>
<h2 id="multiaccount-多用户管理">Multiaccount 多用户管理</h2>
<p>多用户管理不用IAM, 企业级多用户管理,用AWS Organizations.</p>
<p>AWS可以有树形多层组织结构, 根据不用的部门配置用户权限.</p>
<p>用IAM Identity Center来管理SSO</p>
<p>CloudFormation 可以用可视化设计器初始脚本.</p>
<h2 id="clicdk">CLI/CDK</h2>
<h3 id="更新到最新版本">更新到最新版本</h3>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g aws-cdk@latest</span><br></pre></td></tr></table></figure>
<h3 id="configurqtion-file-配置文件">Configurqtion file 配置文件</h3>
<p>本地配置文件在用户根目录下, <strong>config</strong>文件中记录了默认的区域</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[default]</span><br><span class="line">region=eu-west-3</span><br></pre></td></tr></table></figure>
<p><strong>credentials</strong>文件中记录了访问ID和密码</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[default]</span><br><span class="line">aws_access_key_id=...</span><br><span class="line">aws_secret_access_key=...</span><br></pre></td></tr></table></figure>
<h3 id="安装cdk">安装CDK</h3>
<p>全局安装cdk</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g aws-cdk</span><br></pre></td></tr></table></figure>
<p>检查cdk版本</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cdk --version</span><br></pre></td></tr></table></figure>
<p>Bootstrapping 引导 (可以引导多个区域)</p>
<p>获取aws信息</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">aws sts get-caller-identity</span><br><span class="line">aws configure get region</span><br></pre></td></tr></table></figure>
<p>编译typescript文件到javascript</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm run build</span><br></pre></td></tr></table></figure>
<blockquote>
<p>为什么一定要JavaScript运行时才能使用AWS CDK? 为什么npm run build命令把不同语言的版本编译到JavaScript</p>
<p>AWS 使用 TypeScript 语言构建 AWS 构造库软件包的业务逻辑，并提供目标为各种受支持编程语言的映射。这样可以确保 AWS CDK 构造行为在不同语言之间保持一致，可以提供支持所有语言的一套全面的构造软件包。您可以在 AWS &gt; CDK 项目中使用自己选择的编程语言编写所有代码，JavaScript 运行时环境用于确定编程体验的实施细节。</p>
</blockquote>
<p>不怎么常用的命令</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm run watch</span><br><span class="line">npm run test</span><br></pre></td></tr></table></figure>
<p>部署命令</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cdk deploy</span><br></pre></td></tr></table></figure>
<p>查看当前版本与上一个部署版本的区别</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cdk diff</span><br></pre></td></tr></table></figure>
<p>根据获得的信息执行引导</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cdk bootstrap aws://ACCOUNT-NUMBER/REGION</span><br></pre></td></tr></table></figure>
<p>关于为什么需要这个bootstrap的步骤, CDK的文档里面给出了具体的解释, 大概的意思就是CloudFormation需要预先配置S3和其他资源的权限.</p>
<p>引导程序会自动创建一个以<strong>cdk-</strong>开头的存储桶,用于Cloudformation的部署, 在Cloudformation中也会自动创建一个名为<strong>CDKToolkit</strong>的堆栈, 用于CDK的部署.</p>
<p>如果没有指定资源名称, CDK创建的资源会CDK项目的名字为前缀, 和随机后缀.</p>
<p>根据项目创建CloudFormation脚本, 可以用来直接通过CloudFormation部署, 绕过CDK (synthesize)</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cdk synth</span><br></pre></td></tr></table></figure>
<p>删除项目已经创建的资源</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cdk destroy</span><br></pre></td></tr></table></figure>
<p>会有一个确认, 然后就没有然后了.</p>
<h3 id="查看当前配置下-codbuild提供的docker镜像">查看当前配置下, CodBuild提供的Docker镜像</h3>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">aws codebuild list-curated-environment-images</span><br></pre></td></tr></table></figure>
<h2 id="migrating-to-aws-cdk-v2-更新到aws-cdk-v2">Migrating to AWS CDK V2 更新到AWS CDK V2</h2>
<p>更新历史</p>
<p>2022年12月13日 发布</p>
<p><a target="_blank" rel="noopener" href="https://docs.aws.amazon.com/cdk/v2/guide/migrating-v2.html">官方文档 2022年</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="https://doraemomo.github.io/2022/02/24/frontend-note/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="doraemomo">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Doraemomo's site">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2022/02/24/frontend-note/" class="post-title-link" itemprop="url">Frontend Note 前端笔记</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2022-02-24 15:24:19" itemprop="dateCreated datePublished" datetime="2022-02-24T15:24:19+01:00">2022-02-24</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2022-06-08 17:33:43" itemprop="dateModified" datetime="2022-06-08T17:33:43+02:00">2022-06-08</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Web/" itemprop="url" rel="index">
                    <span itemprop="name">Web</span>
                  </a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Web/Frontend/" itemprop="url" rel="index">
                    <span itemprop="name">Frontend</span>
                  </a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Web/Frontend/JavaScript/" itemprop="url" rel="index">
                    <span itemprop="name">JavaScript</span>
                  </a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/2022/02/24/frontend-note/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2022/02/24/frontend-note/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <blockquote>
<p>因为前端技术彼此融合, 所以把分开的笔记集中起来, 这样找起来比较方便, 也不用每次都浪费时间考虑, 这个技术点是属于哪个范畴...</p>
</blockquote>
<h2 id="angular-material">Angular &amp; Material</h2>
<p><a target="_blank" rel="noopener" href="https://github.com/angular/components">https://github.com/angular/components</a></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">table</span> <span class="attr">mat-table</span> [<span class="attr">dataSource</span>]=<span class="string">&quot;value/property&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>中括号可以把属性传到组件里, 对应组件里面的<code>@Input()</code>, 属性列表可以在<a target="_blank" rel="noopener" href="https://material.angular.io/">material.angular.io</a>中找到, 注意这些属性是可以继承的, 所以列表里看到的不是全部.</p>
<hr />
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">mat-select</span> (<span class="attr">selectionChange</span>)=<span class="string">&quot;function()&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>小括号对应组件的输出<code>@Output()</code>属性.</p>
<hr />
<p>布尔值的属性传递可以简写, 比如</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">mat-select</span> <span class="attr">multiple</span>=<span class="string">&quot;true&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>可以写成</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">mat-select</span> <span class="attr">multiple</span>&gt;</span></span><br></pre></td></tr></table></figure>
<hr />
<p>有些属性不建议在HTML里面设置, 而是通过DOM的方式, 比如<code>disabled</code>, 在HTML中使用会有这个警告</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">It looks like you&#x27;re using the disabled attribute with a reactive form directive. If you set disabled to true when you set up this control in your component class, the disabled attribute will actually be set in the DOM for you. We recommend using this approach to avoid &#x27;changed after checked&#x27; errors.</span><br><span class="line"></span><br><span class="line">Example:</span><br><span class="line"></span><br><span class="line">form = new FormGroup(&#123;</span><br><span class="line">    first: new FormControl(&#123;value: &#x27;Nancy&#x27;, disabled: true&#125;, Validators.required),</span><br><span class="line">    last: new FormControl(&#x27;Drew&#x27;, Validators.required)</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<hr />
<p>#声明HTML中的控件名, 对应<code>@ViewChild()</code>, 比如</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">table</span> <span class="attr">mat-table</span> #<span class="attr">table</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="javascript">JavaScript</h2>
<h3 id="timing-event">timing event</h3>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">func</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// repeat every 1 second</span></span><br><span class="line"><span class="variable language_">window</span>.<span class="built_in">setInterval</span>(func, <span class="number">1000</span>);</span><br></pre></td></tr></table></figure>
<p>setInterval() do not support to pass parameter with <strong>()</strong>, to pass parameter we can:</p>
<p>pass parameters with setInterval():</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">func</span>(<span class="params">param1, param2</span>) &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">window</span>.<span class="built_in">setInterval</span>(func, <span class="number">1000</span>, param1, param2);</span><br><span class="line"></span><br><span class="line"><span class="comment">// another way with spread operator</span></span><br><span class="line"><span class="keyword">let</span> params = [param1, param2];</span><br><span class="line"><span class="variable language_">window</span>.<span class="title function_">setInerval</span>(func, <span class="number">1000</span>, ...params);</span><br></pre></td></tr></table></figure>
<p>use anonymous function:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">setInterval</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;, <span class="number">1000</span>);</span><br></pre></td></tr></table></figure>
<p>another way, eval...</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">window</span>.<span class="built_in">setInterval</span>(<span class="string">&quot;func(&#x27;&quot;</span>+param1+<span class="string">&quot;&#x27;, &#x27;&quot;</span>+param2+<span class="string">&quot;&#x27;)&quot;</span>);</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="https://doraemomo.github.io/2022/02/08/reverse-engineering-note/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="doraemomo">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Doraemomo's site">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2022/02/08/reverse-engineering-note/" class="post-title-link" itemprop="url">Reverse Engineering Note</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2022-02-08 17:43:31" itemprop="dateCreated datePublished" datetime="2022-02-08T17:43:31+01:00">2022-02-08</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2022-02-10 14:46:43" itemprop="dateModified" datetime="2022-02-10T14:46:43+01:00">2022-02-10</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Reverse-Engineering/" itemprop="url" rel="index">
                    <span itemprop="name">Reverse Engineering</span>
                  </a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/2022/02/08/reverse-engineering-note/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2022/02/08/reverse-engineering-note/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="android-安卓">Android 安卓</h2>
<p>Apktool is generally for resource reversing, dex2jar is for getting source code, both of them support homebrew instalation. JD-GUI can use to browser .class file after using dex2jar.</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">brew install apktool</span><br><span class="line">brew install dex2jar</span><br></pre></td></tr></table></figure>
<h3 id="resources-资源">Resources 资源</h3>
<p><a target="_blank" rel="noopener" href="https://ibotpeaches.github.io/Apktool/">Apktool</a> <a target="_blank" rel="noopener" href="https://github.com/pxb1988/dex2jar">dex2jar</a> <a target="_blank" rel="noopener" href="https://java-decompiler.github.io/">JD-GUI</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="https://doraemomo.github.io/2022/02/07/smtp-note/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="doraemomo">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Doraemomo's site">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2022/02/07/smtp-note/" class="post-title-link" itemprop="url">SMTP Note SMTP笔记</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2022-02-07 12:17:27 / Modified: 15:20:40" itemprop="dateCreated datePublished" datetime="2022-02-07T12:17:27+01:00">2022-02-07</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/SMTP/" itemprop="url" rel="index">
                    <span itemprop="name">SMTP</span>
                  </a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/2022/02/07/smtp-note/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2022/02/07/smtp-note/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="install-msmtp-in-macos">Install msmtp in MacOS</h2>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install msmtp</span><br></pre></td></tr></table></figure>
<p>/etc/mail.rc</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">set sendmail=/usr/local/bin/msmtp</span><br></pre></td></tr></table></figure>
<p>~/.msmtprc</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Use an external SMTP server with insecure authentication.</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">(manually choose an insecure authentication method.)</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Note that the password contains blanks.</span></span><br><span class="line"> </span><br><span class="line">defaults</span><br><span class="line"><span class="meta prompt_"> </span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment">###################################################################</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">A sample configuration using Gmail</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment">###################################################################</span></span></span><br><span class="line"><span class="meta prompt_"> </span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">account name is <span class="string">&quot;gmail&quot;</span>.</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">You can select this account by using <span class="string">&quot;-a gmail&quot;</span> <span class="keyword">in</span> your <span class="built_in">command</span> line.</span></span><br><span class="line">account gmail</span><br><span class="line">host smtp.gmail.com</span><br><span class="line">tls on</span><br><span class="line">tls_certcheck off</span><br><span class="line">port 587</span><br><span class="line">auth login</span><br><span class="line">from yourname@gmail.com</span><br><span class="line">user yourname</span><br><span class="line">password yourpassword</span><br><span class="line"><span class="meta prompt_"> </span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">If you don<span class="string">&#x27;t use any &quot;-a&quot; parameter in your command line,</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="string">the default account &quot;gmail&quot; will be used.</span></span></span><br><span class="line">account default: gmail</span><br></pre></td></tr></table></figure>
<p>~/.msmtprc 需要设置正确的访问权限</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- lang: shell --&gt;</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">chmod</span> 600 ~/.msmtprc</span></span><br></pre></td></tr></table></figure>
<p>test</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- lang: shell --&gt;</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">echo</span> <span class="string">&quot;Hello world&quot;</span> | mail -s <span class="string">&quot;msmtp test`&quot;</span> yourfriend®@gmail.com</span></span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

  </div>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/5/">5</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let activeClass = CONFIG.comments.activeClass;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">doraemomo</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">46</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">36</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">48</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">doraemomo</span>
</div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  
      
<script type="text/x-mathjax-config">

  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$', '$'], ['\\(', '\\)'] ],
      processEscapes: true,
      skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    },
    TeX: {
      equationNumbers: {
        autoNumber: 'AMS'
      }
    }
  });

  MathJax.Hub.Register.StartupHook('TeX Jax Ready', function() {
    MathJax.InputJax.TeX.prefilterHooks.Add(function(data) {
      if (data.display) {
        var next = data.script.nextSibling;
        while (next && next.nodeName.toLowerCase() === '#text') {
          next = next.nextSibling;
        }
        if (next && next.nodeName.toLowerCase() === 'br') {
          next.parentNode.removeChild(next);
        }
      }
    });
  });

  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for (i = 0; i < all.length; i += 1) {
      element = document.getElementById(all[i].inputID + '-Frame').parentNode;
      if (element.nodeName.toLowerCase() == 'li') {
        element = element.parentNode;
      }
      element.classList.add('has-jax');
    }
  });
</script>
<script>
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/mathjax@2/MathJax.js?config=TeX-AMS-MML_HTMLorMML', () => {
    MathJax.Hub.Typeset();
  }, window.MathJax);
</script>

    

  

<script>
  function loadCount() {
    var d = document, s = d.createElement('script');
    s.src = 'https://githubpages-6.disqus.com/count.js';
    s.id = 'dsq-count-scr';
    (d.head || d.body).appendChild(s);
  }
  // defer loading until the whole page loading is completed
  window.addEventListener('load', loadCount, false);
</script>

</body>
</html>
