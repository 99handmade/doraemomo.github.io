<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">


<script id="hexo-configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    hostname: new URL('https://doraemomo.github.io').hostname,
    root: '/',
    scheme: 'Gemini',
    version: '7.7.1',
    exturl: false,
    sidebar: {"position":"right","display":"post","padding":18,"offset":12,"onmobile":false},
    copycode: {"enable":false,"show_result":false,"style":null},
    back2top: {"enable":true,"sidebar":false,"scrollpercent":false},
    bookmark: {"enable":false,"color":"#222","save":"auto"},
    fancybox: false,
    mediumzoom: false,
    lazyload: false,
    pangu: false,
    comments: {"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},
    algolia: {
      appID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    },
    localsearch: {"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},
    path: '',
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}
  };
</script>

  <meta property="og:type" content="website">
<meta property="og:title" content="Doraemomo&#39;s site">
<meta property="og:url" content="https://doraemomo.github.io/page/2/index.html">
<meta property="og:site_name" content="Doraemomo&#39;s site">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="doraemomo">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://doraemomo.github.io/page/2/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome: true,
    isPost: false
  };
</script>

  <title>Doraemomo's site</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Doraemomo's site</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
  </div>

  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>Home</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i>Tags<span class="badge">37</span></a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i>Categories<span class="badge">24</span></a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>Archives<span class="badge">36</span></a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-fw fa-user"></i>About</a>

  </li>
        <li class="menu-item menu-item-booklist">

    <a href="/booklist/" rel="section"><i class="fa fa-fw fa-book list"></i>booklist</a>

  </li>
  </ul>

</nav>
</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content">
            

  <div class="posts-expand">
        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="https://doraemomo.github.io/2021/09/16/maven-note/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="doraemomo">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Doraemomo's site">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2021/09/16/maven-note/" class="post-title-link" itemprop="url">Maven Note Maven笔记</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2021-09-16 10:58:09" itemprop="dateCreated datePublished" datetime="2021-09-16T10:58:09+02:00">2021-09-16</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2021-09-24 15:23:59" itemprop="dateModified" datetime="2021-09-24T15:23:59+02:00">2021-09-24</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Dependencies-Management/" itemprop="url" rel="index">
                    <span itemprop="name">Dependencies Management</span>
                  </a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/2021/09/16/maven-note/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2021/09/16/maven-note/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="reference"><a href="#reference" class="headerlink" title="reference"></a>reference</h2><p><a target="_blank" rel="noopener" href="https://maven.apache.org/guides/getting-started/maven-in-five-minutes.html">https://maven.apache.org/guides/getting-started/maven-in-five-minutes.html</a></p>
<p>一个Maven仓库实际上就是一个遵循包名的文件系统,不需要任何额外的软件支持.</p>
<h2 id="Local-maven-repository-本地Maven仓库"><a href="#Local-maven-repository-本地Maven仓库" class="headerlink" title="Local maven repository 本地Maven仓库"></a>Local maven repository 本地Maven仓库</h2><p>The default position of Maven repository in Mac OS:<br>Mac系统中Maven仓库的默认地址:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash">HOME/.m2/repository</span></span><br></pre></td></tr></table></figure>

<h2 id="version-版本信息"><a href="#version-版本信息" class="headerlink" title="version 版本信息"></a>version 版本信息</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mvn --version</span><br></pre></td></tr></table></figure>

<h2 id="Clean-清理"><a href="#Clean-清理" class="headerlink" title="Clean 清理"></a>Clean 清理</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mvn clean</span><br></pre></td></tr></table></figure>

<h2 id="compile-编译"><a href="#compile-编译" class="headerlink" title="compile 编译"></a>compile 编译</h2><p>Compile the source code of the project.<br>编译项目源代码.</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mvn compile</span><br></pre></td></tr></table></figure>

<h2 id="package-打包"><a href="#package-打包" class="headerlink" title="package 打包"></a>package 打包</h2><p>Take the compiled code and package it in its distributable format, such as a JAR.<br>打包编译好的文件, 比如JAR.</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mvn package</span><br></pre></td></tr></table></figure>

<p>skip test during the package 打包时跳过测试</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mvn package -DskipTests</span><br></pre></td></tr></table></figure>

<h2 id="force-TLS-version-指定TLS版本"><a href="#force-TLS-version-指定TLS版本" class="headerlink" title="force TLS version 指定TLS版本"></a>force TLS version 指定TLS版本</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mvn clean install -Dhttps.protocols=TLSv1.2</span><br></pre></td></tr></table></figure>

<h2 id="POM-Project-Object-Model"><a href="#POM-Project-Object-Model" class="headerlink" title="POM (Project Object Model)"></a>POM (Project Object Model)</h2><h3 id="Scope-作用范围"><a href="#Scope-作用范围" class="headerlink" title="Scope 作用范围"></a>Scope 作用范围</h3><p><a target="_blank" rel="noopener" href="https://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html">https://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html</a></p>
<ul>
<li><p>compile: This is the default scope, used if none is specified. Compile dependencies are available in all classpaths of a project. Furthermore, those dependencies are propagated to dependent projects.</p>
</li>
<li><p>provided: This is much like compile, but indicates you expect the JDK or a container to provide the dependency at runtime. For example, when building a web application for the Java Enterprise Edition, you would set the dependency on the Servlet API and related Java EE APIs to scope provided because the web container provides those classes. A dependency with this scope is added to the classpath used for compilation and test, but not the runtime classpath. It is not transitive.</p>
</li>
<li><p>runtime: This scope indicates that the dependency is not required for compilation, but is for execution. Maven includes a dependency with this scope in the runtime and test classpaths, but not the compile classpath.</p>
</li>
<li><p>test: This scope indicates that the dependency is not required for normal use of the application, and is only available for the test compilation and execution phases. This scope is not transitive. Typically this scope is used for test libraries such as JUnit and Mockito. It is also used for non-test libraries such as Apache Commons IO if those libraries are used in unit tests (src/test/java) but not in the model code (src/main/java).</p>
</li>
<li><p>system: This scope is similar to provided except that you have to provide the JAR which contains it explicitly. The artifact is always available and is not looked up in a repository.</p>
</li>
<li><p>import: This scope is only supported on a dependency of type pom in the <dependencyManagement> section. It indicates the dependency is to be replaced with the effective list of dependencies in the specified POM’s <dependencyManagement> section. Since they are replaced, dependencies with a scope of import do not actually participate in limiting the transitivity of a dependency.</p>
</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="https://doraemomo.github.io/2021/08/25/resources/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="doraemomo">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Doraemomo's site">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2021/08/25/resources/" class="post-title-link" itemprop="url">Resources 资源</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2021-08-25 15:01:48" itemprop="dateCreated datePublished" datetime="2021-08-25T15:01:48+02:00">2021-08-25</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2021-10-13 11:20:08" itemprop="dateModified" datetime="2021-10-13T11:20:08+02:00">2021-10-13</time>
              </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/2021/08/25/resources/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2021/08/25/resources/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>Unicode</p>
<p><a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/List_of_Unicode_characters">https://en.wikipedia.org/wiki/List_of_Unicode_characters</a></p>
<p>Markdown</p>
<p><a target="_blank" rel="noopener" href="https://www.zybuluo.com/mdeditor?url=https://www.zybuluo.com/static/editor/md-help.markdown">https://www.zybuluo.com/mdeditor?url=https://www.zybuluo.com/static/editor/md-help.markdown</a></p>
<p>Gradle</p>
<p><a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/44413952/gradle-implementation-vs-api-configuration">Gradle: api vs implementation</a></p>
<p>Swift</p>
<p><a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/24232799/why-choose-struct-over-class">Swift: struct vs class</a></p>
<p>Standard, Portocol</p>
<p><a target="_blank" rel="noopener" href="https://tools.ietf.org/html/rfc7519">JSON Web Token (JWT)</a></p>
<p><a target="_blank" rel="noopener" href="https://tools.ietf.org/html/rfc5849">The OAuth 1.0 Protocol</a></p>
<p><a target="_blank" rel="noopener" href="https://tools.ietf.org/html/rfc6749">The OAuth 2.0 Authorization Framework</a></p>
<p><a target="_blank" rel="noopener" href="https://tools.ietf.org/html/rfc2616">Hypertext Transfer Protocol – HTTP/1.1</a></p>
<p><a target="_blank" rel="noopener" href="https://tools.ietf.org/html/rfc7231">Hypertext Transfer Protocol (HTTP/1.1): Semantics and Content</a></p>
<p><a target="_blank" rel="noopener" href="https://tools.ietf.org/html/rfc2817">Upgrading to TLS Within HTTP/1.1</a></p>
<p><a target="_blank" rel="noopener" href="https://tools.ietf.org/html/rfc3548">The Base16, Base32, and Base64 Data Encodings</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="https://doraemomo.github.io/2021/07/29/spring-cloud/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="doraemomo">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Doraemomo's site">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2021/07/29/spring-cloud/" class="post-title-link" itemprop="url">Sprig Cloud</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2021-07-29 16:56:49" itemprop="dateCreated datePublished" datetime="2021-07-29T16:56:49+02:00">2021-07-29</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2021-10-13 11:20:20" itemprop="dateModified" datetime="2021-10-13T11:20:20+02:00">2021-10-13</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Microservices/" itemprop="url" rel="index">
                    <span itemprop="name">Microservices</span>
                  </a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/2021/07/29/spring-cloud/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2021/07/29/spring-cloud/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="Before-we-start-前言"><a href="#Before-we-start-前言" class="headerlink" title="Before we start 前言"></a>Before we start 前言</h2><p>Microserices architecture is excellent, but it is not the silver bullet, compare with monolithic architecture, microservices means you need to spend more time minding communication between services, and according to the reality, microservices, sometimes, means you need to pay more for deployment.</p>
<ul>
<li>Something important but not often saying, take care the dependencies version revolution, when you start or during the development, different version could be huge different in the implementation.</li>
</ul>
<h2 id="Panorama-概论"><a href="#Panorama-概论" class="headerlink" title="Panorama 概论"></a>Panorama 概论</h2><p><a target="_blank" rel="noopener" href="https://spring.io/cloud">Spring IO</a><br><a target="_blank" rel="noopener" href="https://github.com/spring-projects"></a></p>
<p>We will principally use <a target="_blank" rel="noopener" href="https://github.com/spring-cloud/spring-cloud-netflix">Spring Cloud Netflix</a>.</p>
<h2 id="Topics-题目"><a href="#Topics-题目" class="headerlink" title="Topics 题目"></a>Topics 题目</h2><p><a href="dd">Discovery Service</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="https://doraemomo.github.io/2021/07/28/upgrade-hexo/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="doraemomo">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Doraemomo's site">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2021/07/28/upgrade-hexo/" class="post-title-link" itemprop="url">Upgrade Hexo 更新Hexo</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2021-07-28 17:46:08" itemprop="dateCreated datePublished" datetime="2021-07-28T17:46:08+02:00">2021-07-28</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2021-07-29 15:50:36" itemprop="dateModified" datetime="2021-07-29T15:50:36+02:00">2021-07-29</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Blog/" itemprop="url" rel="index">
                    <span itemprop="name">Blog</span>
                  </a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/2021/07/28/upgrade-hexo/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2021/07/28/upgrade-hexo/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="Dependenciese-依赖"><a href="#Dependenciese-依赖" class="headerlink" title="Dependenciese 依赖"></a>Dependenciese 依赖</h2><p>Hexo requires Node.js and Git, especially Hexo version is related to Node.js version, check the <a target="_blank" rel="noopener" href="https://hexo.io/docs/#Minimum-required-Node-js-version">table</a></p>
<p>so first you may need to upgrade Node.js.</p>
<h3 id="Upgrade-Node-js-using-Homebrew"><a href="#Upgrade-Node-js-using-Homebrew" class="headerlink" title="Upgrade Node.js using Homebrew"></a>Upgrade Node.js using Homebrew</h3><p>we are going to update Homebrew first:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew update</span><br></pre></td></tr></table></figure>

<p> then upgrade Node.js:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew upgrade node</span><br></pre></td></tr></table></figure>

<h2 id="Upgrade-Hexo-更新Hexo"><a href="#Upgrade-Hexo-更新Hexo" class="headerlink" title="Upgrade Hexo 更新Hexo"></a>Upgrade Hexo 更新Hexo</h2><ul>
<li>Check Hexo version 检查Hexo版本</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo version</span><br></pre></td></tr></table></figure>

<ul>
<li>Upgrade hexo-cli globally 全局升级hexo-cli</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i hexo-cli -g</span><br></pre></td></tr></table></figure>

<ul>
<li>Check oudated plugins 查看本地包是否需要升级</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm i -g npm-check</span><br><span class="line">npm-check</span><br></pre></td></tr></table></figure>

<ul>
<li>Update package.json 更新package.json</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm i -g npm-upgrade</span><br><span class="line">npm-upgrade</span><br></pre></td></tr></table></figure>

<ul>
<li>Upgrade packages globally 更新全局包</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm update -g</span><br></pre></td></tr></table></figure>

<ul>
<li>Upgrade local packages 更新本地包</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm update --save</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="https://doraemomo.github.io/2021/07/26/docker-note/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="doraemomo">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Doraemomo's site">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2021/07/26/docker-note/" class="post-title-link" itemprop="url">Docker Note Docker笔记</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2021-07-26 15:34:57" itemprop="dateCreated datePublished" datetime="2021-07-26T15:34:57+02:00">2021-07-26</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2021-10-08 16:17:38" itemprop="dateModified" datetime="2021-10-08T16:17:38+02:00">2021-10-08</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/CI-CD/" itemprop="url" rel="index">
                    <span itemprop="name">CI/CD</span>
                  </a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/2021/07/26/docker-note/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2021/07/26/docker-note/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="Show-running-container-现实运行中容器"><a href="#Show-running-container-现实运行中容器" class="headerlink" title="Show running container 现实运行中容器"></a>Show running container 现实运行中容器</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker ps</span><br></pre></td></tr></table></figure>

<h2 id="Show-all-container-显示所有容器"><a href="#Show-all-container-显示所有容器" class="headerlink" title="Show all container 显示所有容器"></a>Show all container 显示所有容器</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker ps -a</span><br></pre></td></tr></table></figure>

<h2 id="Delete-container-删除容器"><a href="#Delete-container-删除容器" class="headerlink" title="Delete container 删除容器"></a>Delete container 删除容器</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker container rm &lt;container_id&gt;</span><br></pre></td></tr></table></figure>

<h2 id="Build-image-构造镜像"><a href="#Build-image-构造镜像" class="headerlink" title="Build image 构造镜像"></a>Build image 构造镜像</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker build -t web-server-image . </span><br></pre></td></tr></table></figure>

<h2 id="Delete-image-删除镜像"><a href="#Delete-image-删除镜像" class="headerlink" title="Delete image 删除镜像"></a>Delete image 删除镜像</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker image rm &lt;image_id&gt;</span><br></pre></td></tr></table></figure>

<h2 id="SSH-in-container-进入到容器中的shell"><a href="#SSH-in-container-进入到容器中的shell" class="headerlink" title="SSH in container 进入到容器中的shell"></a>SSH in container 进入到容器中的shell</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker exec -it &lt;container name&gt; /bin/shell</span><br></pre></td></tr></table></figure>

<blockquote>
<p>May need to use <strong>sudo</strong> command.</p>
</blockquote>
<h2 id="show-container-logs-显示容器日志"><a href="#show-container-logs-显示容器日志" class="headerlink" title="show container logs 显示容器日志"></a>show container logs 显示容器日志</h2><p><a target="_blank" rel="noopener" href="https://docs.docker.com/engine/reference/commandline/logs/">Official documentation</a></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker logs [OPTIONS] CONTAINER</span><br></pre></td></tr></table></figure>

<p>continue log: 持续日志</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker logs --follow</span><br></pre></td></tr></table></figure>

<p>In most cases, log is long, and only the latest log is intrested 大多时候,日志很长,我们只需要显示最新的日志:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker logs --follow --tail 10</span><br></pre></td></tr></table></figure>

<p>will always shows the last 10 line logs. 上面的命令只显示最近的10行命令.</p>
<h2 id="Networking-in-Docker-Compose-Docker-Compose中的网络"><a href="#Networking-in-Docker-Compose-Docker-Compose中的网络" class="headerlink" title="Networking in Docker Compose Docker Compose中的网络"></a>Networking in Docker Compose Docker Compose中的网络</h2><p><a target="_blank" rel="noopener" href="https://docs.docker.com/compose/networking/">https://docs.docker.com/compose/networking/</a></p>
<p>According to the document: 依据文档:</p>
<blockquote>
<p>Your app’s network is given a name based on the “project name”, which is based on the name of the directory it lives in. You can override the project name with either the –project-name flag or the COMPOSE_PROJECT_NAME environment variable.</p>
</blockquote>
<p>so basically, in Docker Compose, net work name is like <project name>_<network name in docker file>. 在Docker Compose中的网络名需要在前面加上项目名称.</p>
<p>check the network list: 查看网络列表:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo docker network ls</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="https://doraemomo.github.io/2021/07/20/css-note/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="doraemomo">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Doraemomo's site">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2021/07/20/css-note/" class="post-title-link" itemprop="url">CSS Note CSS笔记</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2021-07-20 18:06:11" itemprop="dateCreated datePublished" datetime="2021-07-20T18:06:11+02:00">2021-07-20</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2021-07-29 12:01:26" itemprop="dateModified" datetime="2021-07-29T12:01:26+02:00">2021-07-29</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Frontend/" itemprop="url" rel="index">
                    <span itemprop="name">Frontend</span>
                  </a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/2021/07/20/css-note/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2021/07/20/css-note/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="Vertical-scrollable"><a href="#Vertical-scrollable" class="headerlink" title="Vertical scrollable"></a>Vertical scrollable</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">flex</span>: <span class="number">1</span> <span class="number">1</span> auto;</span><br><span class="line"><span class="attribute">overflow-y</span>: auto;</span><br><span class="line"><span class="attribute">min-height</span>: <span class="number">0px</span>;</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="https://doraemomo.github.io/2021/06/02/homebrew-note/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="doraemomo">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Doraemomo's site">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2021/06/02/homebrew-note/" class="post-title-link" itemprop="url">Homebrew Note Homebrew笔记</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2021-06-02 14:30:12" itemprop="dateCreated datePublished" datetime="2021-06-02T14:30:12+02:00">2021-06-02</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2021-08-17 16:41:15" itemprop="dateModified" datetime="2021-08-17T16:41:15+02:00">2021-08-17</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Package-Management/" itemprop="url" rel="index">
                    <span itemprop="name">Package Management</span>
                  </a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/2021/06/02/homebrew-note/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2021/06/02/homebrew-note/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>Homebrew is a MacOS package manager developed using Ruby.<br>Homebrew是使用Ruby开发的MacOS软件包管理器.</p>
<h2 id="Basic-基础命令"><a href="#Basic-基础命令" class="headerlink" title="Basic 基础命令"></a>Basic 基础命令</h2><h3 id="Show-packages-installed-using-Homebrew-显示通过Homebrew安装的包"><a href="#Show-packages-installed-using-Homebrew-显示通过Homebrew安装的包" class="headerlink" title="Show packages installed using Homebrew 显示通过Homebrew安装的包"></a>Show packages installed using Homebrew 显示通过Homebrew安装的包</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew list</span><br></pre></td></tr></table></figure>

<h3 id="Show-outdated-packages-显示可以更新的包"><a href="#Show-outdated-packages-显示可以更新的包" class="headerlink" title="Show outdated packages 显示可以更新的包"></a>Show outdated packages 显示可以更新的包</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew outdated</span><br></pre></td></tr></table></figure>

<h3 id="Upgrade-all-outdated-packages-更新所有过期的包"><a href="#Upgrade-all-outdated-packages-更新所有过期的包" class="headerlink" title="Upgrade all outdated packages 更新所有过期的包"></a>Upgrade all outdated packages 更新所有过期的包</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew upgrade</span><br></pre></td></tr></table></figure>

<h3 id="Upgrade-specified-package-更新指定的包"><a href="#Upgrade-specified-package-更新指定的包" class="headerlink" title="Upgrade specified package 更新指定的包"></a>Upgrade specified package 更新指定的包</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew upgrade &lt;package name&gt;</span><br></pre></td></tr></table></figure>

<h3 id="Edit-package-configuration-file-编辑包配置文件"><a href="#Edit-package-configuration-file-编辑包配置文件" class="headerlink" title="Edit package configuration file 编辑包配置文件"></a>Edit package configuration file 编辑包配置文件</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew edit &lt;package name&gt;</span><br></pre></td></tr></table></figure>

<h3 id="Package-info-包信息"><a href="#Package-info-包信息" class="headerlink" title="Package info 包信息"></a>Package info 包信息</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew info &lt;package name&gt;</span><br></pre></td></tr></table></figure>

<h2 id="TAPs-Third-Party-Repositories-第三方库"><a href="#TAPs-Third-Party-Repositories-第三方库" class="headerlink" title="TAPs (Third-Party Repositories) 第三方库"></a>TAPs (Third-Party Repositories) 第三方库</h2><h3 id="Lists-the-currently-tapped-repositories-显示当前的第三方库列表"><a href="#Lists-the-currently-tapped-repositories-显示当前的第三方库列表" class="headerlink" title="Lists the currently tapped repositories 显示当前的第三方库列表"></a>Lists the currently tapped repositories 显示当前的第三方库列表</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew tap</span><br></pre></td></tr></table></figure>

<h3 id="Add-tap-添加库"><a href="#Add-tap-添加库" class="headerlink" title="Add tap 添加库"></a>Add tap 添加库</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew tap &lt;user/repo&gt;</span><br></pre></td></tr></table></figure>

<h3 id="Remove-tap-删除库"><a href="#Remove-tap-删除库" class="headerlink" title="Remove tap 删除库"></a>Remove tap 删除库</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew untap &lt;user/repo&gt;</span><br></pre></td></tr></table></figure>

<h3 id="Add-Background-service-management-tap-添加后台服务管理库"><a href="#Add-Background-service-management-tap-添加后台服务管理库" class="headerlink" title="Add Background service management tap 添加后台服务管理库"></a>Add Background service management tap 添加后台服务管理库</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew tap homebrew/services</span><br></pre></td></tr></table></figure>

<h3 id="Show-background-service-list-installed-using-Homebrew-显示通过Homerew管理的后台服务列表"><a href="#Show-background-service-list-installed-using-Homebrew-显示通过Homerew管理的后台服务列表" class="headerlink" title="Show background service list installed using Homebrew 显示通过Homerew管理的后台服务列表"></a>Show background service list installed using Homebrew 显示通过Homerew管理的后台服务列表</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew services list</span><br></pre></td></tr></table></figure>

<h3 id="Services-status-management-服务状态管理"><a href="#Services-status-management-服务状态管理" class="headerlink" title="Services status management 服务状态管理"></a>Services status management 服务状态管理</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew services (start/restart/stop) &lt;service&gt;</span><br></pre></td></tr></table></figure>

<h3 id="Cleanup-清除无用的服务配置"><a href="#Cleanup-清除无用的服务配置" class="headerlink" title="Cleanup 清除无用的服务配置"></a>Cleanup 清除无用的服务配置</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew services cleanup</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="https://doraemomo.github.io/2020/11/30/spring-note/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="doraemomo">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Doraemomo's site">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2020/11/30/spring-note/" class="post-title-link" itemprop="url">Spring Note Spring笔记</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-11-30 22:23:37" itemprop="dateCreated datePublished" datetime="2020-11-30T22:23:37+01:00">2020-11-30</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2021-10-14 10:54:41" itemprop="dateModified" datetime="2021-10-14T10:54:41+02:00">2021-10-14</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Backend/" itemprop="url" rel="index">
                    <span itemprop="name">Backend</span>
                  </a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/2020/11/30/spring-note/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2020/11/30/spring-note/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="Reference-参考"><a href="#Reference-参考" class="headerlink" title="Reference 参考"></a>Reference 参考</h2><p><a target="_blank" rel="noopener" href="https://spring.io/projects/spring-cloud-netflix">Spring Cloud Netflix</a></p>
<p><a target="_blank" rel="noopener" href="https://github.com/spring-cloud/spring-cloud-netflix">Spring Cloud Netflix Repository</a></p>
<h2 id="Visual-Studio-Code-configuration-VSCode配置"><a href="#Visual-Studio-Code-configuration-VSCode配置" class="headerlink" title="Visual Studio Code configuration VSCode配置"></a>Visual Studio Code configuration VSCode配置</h2><h3 id="Visual-Studio-Code-Extensions-Visual-Studio-Code-扩展"><a href="#Visual-Studio-Code-Extensions-Visual-Studio-Code-扩展" class="headerlink" title="Visual Studio Code Extensions Visual Studio Code 扩展"></a>Visual Studio Code Extensions Visual Studio Code 扩展</h3><ul>
<li>Spring Boot Extension Pack</li>
</ul>
<p><strong>Spring Boot Dashboard</strong> will create a launch.json automatically, also includes basic configuration:<br><strong>Spring Boot Dashboard</strong> 会自动为你运行过的项目配置launch.json, 包含一些基本的配置信息:</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">&quot;configurations&quot;</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">&quot;type&quot;</span>: <span class="string">&quot;java&quot;</span>,</span><br><span class="line">            <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;project name&quot;</span>,</span><br><span class="line">            <span class="attr">&quot;request&quot;</span>: <span class="string">&quot;launch&quot;</span>,</span><br><span class="line">            <span class="attr">&quot;cwd&quot;</span>: <span class="string">&quot;$&#123;workspaceFolder&#125;&quot;</span>,</span><br><span class="line">            <span class="attr">&quot;console&quot;</span>: <span class="string">&quot;internalConsole&quot;</span>,</span><br><span class="line">            <span class="attr">&quot;mainClass&quot;</span>: <span class="string">&quot;main class full package path&quot;</span>,</span><br><span class="line">            <span class="attr">&quot;projectName&quot;</span>: <span class="string">&quot;project folder name&quot;</span></span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p> to choose which profile will be used, change <strong>args</strong> to:<br> 如果需要运行非默认的配置,可以更改 <strong>args</strong>:</p>
 <figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"> &#123;</span><br><span class="line">    <span class="attr">&quot;configurations&quot;</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">&quot;args&quot;</span>: <span class="string">&quot;--spring.profiles.active=local&quot;</span></span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>debug will not compile or build project, you need to add that task:<br>Debug不会自动编译项目,你需要自己添加:</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"> &#123;</span><br><span class="line">    <span class="attr">&quot;configurations&quot;</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">&quot;preLaunchTask&quot;</span>: <span class="string">&quot;task label&quot;</span></span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>and add this task in tasks.json, add create file if it not exists:<br>并且添加这个任务到<strong>tasks.json</strong>这个文件,如果文件不存在,创建他:</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">&quot;version&quot;</span>: <span class="string">&quot;2.0.0&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;tasks&quot;</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">&quot;label&quot;</span>: <span class="string">&quot;task label&quot;</span>,</span><br><span class="line">            <span class="attr">&quot;type&quot;</span>: <span class="string">&quot;shell&quot;</span>,</span><br><span class="line">            <span class="attr">&quot;command&quot;</span>: [</span><br><span class="line">                <span class="string">&quot;mvn -f $&#123;workspaceFolder&#125;/pom.xml clean; mvn -f $&#123;workspaceFolder&#125;/pom.xml compile; mvn -f $&#123;workspaceFolder&#125;/pom.xml package&quot;</span></span><br><span class="line">            ]</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>a more formal way to execute compound tasks, for example a project managed by gradle, we want to clean, build the project before each run:<br>更正式一点的执行多个任务,比如一个用gradle管理等项目,需要在运行前执行清理和编译任务:</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">&quot;version&quot;</span>: <span class="string">&quot;2.0.0&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;tasks&quot;</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">&quot;label&quot;</span>: <span class="string">&quot;gradle clean&quot;</span>,</span><br><span class="line">            <span class="attr">&quot;type&quot;</span>: <span class="string">&quot;shell&quot;</span>,</span><br><span class="line">            <span class="attr">&quot;command&quot;</span>: <span class="string">&quot;./gradlew&quot;</span>,</span><br><span class="line">            <span class="attr">&quot;args&quot;</span>: [</span><br><span class="line">                <span class="string">&quot;clean&quot;</span></span><br><span class="line">            ],</span><br><span class="line">            <span class="attr">&quot;options&quot;</span>: &#123;</span><br><span class="line">                <span class="attr">&quot;cwd&quot;</span>: <span class="string">&quot;$&#123;workspaceFolder&#125;/server&quot;</span></span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="attr">&quot;isBackground&quot;</span>: <span class="literal">true</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">&quot;label&quot;</span>: <span class="string">&quot;gradle build&quot;</span>,</span><br><span class="line">            <span class="attr">&quot;type&quot;</span>: <span class="string">&quot;shell&quot;</span>,</span><br><span class="line">            <span class="attr">&quot;command&quot;</span>: <span class="string">&quot;./gradlew&quot;</span>,</span><br><span class="line">            <span class="attr">&quot;args&quot;</span>: [</span><br><span class="line">                <span class="string">&quot;build&quot;</span></span><br><span class="line">            ],</span><br><span class="line">            <span class="attr">&quot;options&quot;</span>: &#123;</span><br><span class="line">                <span class="attr">&quot;cwd&quot;</span>: <span class="string">&quot;$&#123;workspaceFolder&#125;/server&quot;</span></span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="attr">&quot;isBackground&quot;</span>: <span class="literal">true</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">&quot;label&quot;</span>: <span class="string">&quot;gradle tasks&quot;</span>,</span><br><span class="line">            <span class="attr">&quot;dependsOn&quot;</span>: [<span class="string">&quot;gradle clean&quot;</span>, <span class="string">&quot;gradle build&quot;</span>],</span><br><span class="line">            <span class="attr">&quot;dependsOrder&quot;</span>: <span class="string">&quot;sequence&quot;</span></span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Authorization-server-授权服务器"><a href="#Authorization-server-授权服务器" class="headerlink" title="Authorization server 授权服务器"></a>Authorization server 授权服务器</h2><p><a target="_blank" rel="noopener" href="https://github.com/spring-projects/spring-authorization-server">Spring Authorization Server repository</a></p>
<p>Spring authorization server is no longger offcially supported, from the <a target="_blank" rel="noopener" href="https://spring.io/blog/2020/04/15/announcing-the-spring-authorization-server">announce</a> in April, 2020, it is now community-driven project let by the SPring Security team.<br>依据2020年四月份的这篇<a target="_blank" rel="noopener" href="https://spring.io/blog/2020/04/15/announcing-the-spring-authorization-server">声明</a>, 授权服务器项目已经不再官方支持了,现在的项目是社区项目.</p>
<p>which mentioned in this announce:<br>文章中提到:</p>
<blockquote>
<p>Nor did we feel like it was appropriate to provide authorization support within a framework with no library support. After careful consideration, the Spring Security team decided that we would not formally support creating authorization servers.<br>我们也不觉得在没有库支持的情况下, 在框架内提供授权服务支持是合适的. 经过谨慎的考虑, 团队决定我们不再官方支持创建授服务器.</p>
</blockquote>
<p>Indded there are lots of different voices… so the project turn to community-driven.<br>当然会有像我这样的,持不同意见的吃瓜群众,而且很多,所以现在授权服务器项目是社区版.</p>
<p>The <a href="%5Bhttps://spring.io/blog/2019/11/14/spring-security-oauth-2-0-roadmap-update%5D(https://spring.io/blog/2019/11/14/spring-security-oauth-2-0-roadmap-update)">Roadmap</a> talked more informations.<br>Spring的规划中也证实授权服务已经从现有框架中移除了.</p>
<h2 id="Dependency-Management-Plugin-Maven-依赖管理插件"><a href="#Dependency-Management-Plugin-Maven-依赖管理插件" class="headerlink" title="Dependency Management Plugin (Maven) 依赖管理插件"></a>Dependency Management Plugin (Maven) 依赖管理插件</h2><p><a target="_blank" rel="noopener" href="https://docs.spring.io/dependency-management-plugin/docs/1.0.11.RELEASE/reference/html/#introduction">https://docs.spring.io/dependency-management-plugin/docs/1.0.11.RELEASE/reference/html/#introduction</a></p>
<h2 id="Exception-handling-异常处理"><a href="#Exception-handling-异常处理" class="headerlink" title="Exception handling 异常处理"></a>Exception handling 异常处理</h2><p>There is a good practice to find which exception you need to handle, to check the log, for example when there is a request parameter missing and client received a 400 bad request response, when checking the log:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">2021-10-14 10:40:44.050  WARN 2232 --- [nio-9003-exec-1] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.bind.MissingServletRequestParameterException: Required String parameter &#x27;uid&#x27; is not present]</span><br><span class="line">2021-10-14 10:40:46.343  WARN 2232 --- [nio-9003-exec-2] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.bind.MissingServletRequestParameterException: Required String parameter &#x27;uid&#x27; is not present]</span><br></pre></td></tr></table></figure>

<p>so you know that you need to take care of <strong>MissingServletRequestParameterException</strong> now.</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="https://doraemomo.github.io/2020/11/25/mongodb-note/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="doraemomo">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Doraemomo's site">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2020/11/25/mongodb-note/" class="post-title-link" itemprop="url">MongoDB Note MongoDB笔记</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-11-25 08:53:35" itemprop="dateCreated datePublished" datetime="2020-11-25T08:53:35+01:00">2020-11-25</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2021-10-18 17:51:30" itemprop="dateModified" datetime="2021-10-18T17:51:30+02:00">2021-10-18</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Database/" itemprop="url" rel="index">
                    <span itemprop="name">Database</span>
                  </a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/2020/11/25/mongodb-note/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2020/11/25/mongodb-note/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="Authentication-to-admin-登录到管理员数据库"><a href="#Authentication-to-admin-登录到管理员数据库" class="headerlink" title="Authentication to admin 登录到管理员数据库"></a>Authentication to admin 登录到管理员数据库</h2><p>first choose admin database:<br>首先选择管理员数据库:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">use admin</span><br></pre></td></tr></table></figure>

<p>then authenticate:<br>然后认证:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.auth(&#x27;root&#x27;, &#x27;root password&#x27;)</span><br></pre></td></tr></table></figure>

<h2 id="Delete-collection-s-删除文档"><a href="#Delete-collection-s-删除文档" class="headerlink" title="Delete collection(s) 删除文档"></a>Delete collection(s) 删除文档</h2><h3 id="Delete-all-collections-删除所有文档"><a href="#Delete-all-collections-删除所有文档" class="headerlink" title="Delete all collections 删除所有文档"></a>Delete all collections 删除所有文档</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.&lt;collection name&gt;.deleteMany(&#123;&#125;)</span><br></pre></td></tr></table></figure>

<p>or<br>或者</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.&lt;collection name&gt;.remove(&#123;&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="Delete-many-collections-删除很多文档"><a href="#Delete-many-collections-删除很多文档" class="headerlink" title="Delete many collections 删除很多文档"></a>Delete many collections 删除很多文档</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.&lt;collection name&gt;.deleteMany(&#123; &lt;field name&gt; : &lt;value&gt; &#125;)</span><br></pre></td></tr></table></figure>

<p>or<br>或者</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.&lt;collection name&gt;.remove(&#123; &lt;field name&gt; : &lt;value&gt; &#125;)</span><br></pre></td></tr></table></figure>

<h3 id="Delete-one-collection-删除一个文档"><a href="#Delete-one-collection-删除一个文档" class="headerlink" title="Delete one collection 删除一个文档"></a>Delete one collection 删除一个文档</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.&lt;collection name&gt;.deleteOne( &#123; &lt;field name&gt; : &lt;value&gt; &#125; )</span><br></pre></td></tr></table></figure>

<p>or<br>或者</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.&lt;collection name&gt;.remove( &#123; &lt;field name&gt; : &lt;value&gt; &#125; )</span><br></pre></td></tr></table></figure>

<h2 id="Default-configuration-file"><a href="#Default-configuration-file" class="headerlink" title="Default configuration file"></a>Default configuration file</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/usr/local/etc/mongod.conf</span><br></pre></td></tr></table></figure>

<h3 id="Start-service"><a href="#Start-service" class="headerlink" title="Start service"></a>Start service</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mongod</span><br></pre></td></tr></table></figure>

<h2 id="Start-shell-进入MongoDB-shell"><a href="#Start-shell-进入MongoDB-shell" class="headerlink" title="Start shell 进入MongoDB shell"></a>Start shell 进入MongoDB shell</h2><p>default port 默认端口(27017)</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mongo</span><br></pre></td></tr></table></figure>

<p>specific port 自定义端口</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mongo --port 27017</span><br></pre></td></tr></table></figure>

<h3 id="Count-entities-in-collection"><a href="#Count-entities-in-collection" class="headerlink" title="Count entities in collection"></a>Count entities in collection</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.getCollection(&#x27;collection_name&#x27;).count()</span><br></pre></td></tr></table></figure>

<p>could also be a combination</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.getCollection(&#x27;collection_name&#x27;).find(&#123;&#x27;field_name&#x27;:&#x27;value&#x27;&#125;).count()</span><br></pre></td></tr></table></figure>

<h3 id="Modify-more-than-one-entity"><a href="#Modify-more-than-one-entity" class="headerlink" title="Modify more than one entity"></a>Modify more than one entity</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.test.updateMany(&#123;&#x27;field_name&#x27;: &#x27;value&#x27;&#125;, &#123;$set: &#123;&#x27;field_name&#x27;: &#x27;value&#x27;&#125;&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="Restore-mongodb"><a href="#Restore-mongodb" class="headerlink" title="Restore mongodb"></a>Restore mongodb</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mongorestore &lt;path&gt;</span><br></pre></td></tr></table></figure>

<h3 id="Date"><a href="#Date" class="headerlink" title="Date"></a>Date</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Date()</span><br></pre></td></tr></table></figure>

<h3 id="Clean-all-reccord-in-collection"><a href="#Clean-all-reccord-in-collection" class="headerlink" title="Clean all reccord in collection"></a>Clean all reccord in collection</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.&#123;collection&#125;.remove(&#123;&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="Install-mongodb-on-Ubuntu"><a href="#Install-mongodb-on-Ubuntu" class="headerlink" title="Install mongodb on Ubuntu"></a>Install mongodb on Ubuntu</h3><p><a target="_blank" rel="noopener" href="https://docs.mongodb.com/manual/tutorial/install-mongodb-on-ubuntu/">https://docs.mongodb.com/manual/tutorial/install-mongodb-on-ubuntu/</a></p>
<h3 id="remove-database"><a href="#remove-database" class="headerlink" title="remove database"></a>remove database</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;</span><span class="bash"> show dbs</span></span><br><span class="line">admin 0.000GB</span><br><span class="line">local 0.000GB</span><br><span class="line">tutorialkart 0.000GB</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> use tutorialkart</span></span><br><span class="line">switched to db tutorialkart</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> db.dropDatabase()</span></span><br><span class="line">&#123; &quot;dropped&quot; : &quot;tutorialkart&quot;, &quot;ok&quot; : 1 &#125;</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> show dbs</span></span><br><span class="line">admin 0.000GB</span><br><span class="line">local 0.000GB</span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> </span> </span><br></pre></td></tr></table></figure>

<h3 id="Connect-to-mongodb-remotely"><a href="#Connect-to-mongodb-remotely" class="headerlink" title="Connect to mongodb remotely"></a>Connect to mongodb remotely</h3><h4 id="add-user"><a href="#add-user" class="headerlink" title="add user"></a>add user</h4><p>Choose the database that you want to connect into, and add the user with read and write roles.</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">use &lt;db_name&gt;</span><br><span class="line"></span><br><span class="line">db.createUser(&#123;</span><br><span class="line">    user: &#x27;my_user_name&#x27;,</span><br><span class="line">    pwd: &#x27;my_password&#x27;,</span><br><span class="line">    roles: [&#123; role: &#x27;readWrite&#x27;, db:&#x27;da_name&#x27;&#125;]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h4 id="find-by-object-reference"><a href="#find-by-object-reference" class="headerlink" title="find by object reference"></a>find by object reference</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.getCollection(&#x27;DeviceObservationReport&#x27;).find(&#123;&#x27;subject.patient.$id&#x27;:ObjectId(&#x27;602557cdf0c1310001c3ba77&#x27;)&#125;)</span><br></pre></td></tr></table></figure>

<h4 id="change-mongodb-configuration-file"><a href="#change-mongodb-configuration-file" class="headerlink" title="change mongodb configuration file"></a>change mongodb configuration file</h4><p>It is important to enable the security.</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> network interfaces</span></span><br><span class="line">net:</span><br><span class="line">  port: 27017</span><br><span class="line">  bindIp: 0.0.0.0</span><br><span class="line"></span><br><span class="line">security:</span><br><span class="line">  authorization: &#x27;enabled&#x27;</span><br></pre></td></tr></table></figure>

<h3 id="restart-mongodb"><a href="#restart-mongodb" class="headerlink" title="restart mongodb"></a>restart mongodb</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo service mongod restart</span><br></pre></td></tr></table></figure>

<h2 id="Aggregation"><a href="#Aggregation" class="headerlink" title="Aggregation"></a>Aggregation</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">db.getCollection(&#x27;DeviceObservationReport&#x27;).aggregate([</span><br><span class="line">  &#123;</span><br><span class="line">    $match: &#123;</span><br><span class="line">        &quot;virtualDevice.channel.code.coding.display&quot;: &#123;</span><br><span class="line">            $in: [&quot;Blood pressure panel&quot;, &quot;Body temperature panel&quot;, &quot;Glucose meter device panel&quot;, &quot;Pulse oximetry panel&quot;, &quot;Weighing device panel&quot;]</span><br><span class="line">         &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    $match: &#123;</span><br><span class="line">       &quot;uid&quot;: &#123;</span><br><span class="line">          $eq: &quot;5FN5WW&quot;</span><br><span class="line">       &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">      $sort: &#123; &quot;instant&quot;: -1&#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    $group: &#123;</span><br><span class="line">        _id: &quot;$virtualDevice.channel.code.coding.display&quot;,</span><br><span class="line">        &quot;reports&quot;: &#123; $push : &quot;$$ROOT&quot; &#125;,</span><br><span class="line">        type: &#123; $addToSet: &quot;$virtualDevice.channel.code.coding.display&quot; &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">])</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">db.getCollection(&#x27;DeviceObservationReport&#x27;).aggregate([</span><br><span class="line">  &#123;</span><br><span class="line">    $match: &#123;</span><br><span class="line">       &quot;uid&quot;: &#123;</span><br><span class="line">          $eq: &quot;5FN5WW&quot;</span><br><span class="line">       &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    $match: &#123;</span><br><span class="line">        &quot;virtualDevice.channel.code.coding.display&quot;: &#123;</span><br><span class="line">            $in: [&quot;Blood pressure panel&quot;, &quot;Body temperature panel&quot;, &quot;Glucose meter device panel&quot;, &quot;Pulse oximetry panel&quot;, &quot;Weighing device panel&quot;]</span><br><span class="line">         &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">      $sort: &#123; &quot;instant&quot;: -1&#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    $group: &#123;</span><br><span class="line">        _id: &quot;$virtualDevice.channel.code.coding.display&quot;,</span><br><span class="line">        report: &#123; &quot;$last&quot;: &quot;$$ROOT&quot; &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">])</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="https://doraemomo.github.io/2020/11/18/tomcat-note/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="doraemomo">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Doraemomo's site">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2020/11/18/tomcat-note/" class="post-title-link" itemprop="url">Tomcat Note Tomcat笔记</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-11-18 17:22:45" itemprop="dateCreated datePublished" datetime="2020-11-18T17:22:45+01:00">2020-11-18</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2021-07-29 15:22:08" itemprop="dateModified" datetime="2021-07-29T15:22:08+02:00">2021-07-29</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Servlets/" itemprop="url" rel="index">
                    <span itemprop="name">Servlets</span>
                  </a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/2020/11/18/tomcat-note/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2020/11/18/tomcat-note/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="Install-with-HomeBrew"><a href="#Install-with-HomeBrew" class="headerlink" title="Install with HomeBrew"></a>Install with HomeBrew</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install tomcat</span><br></pre></td></tr></table></figure>

<p>To specify a version, for example:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install tomcat@7</span><br></pre></td></tr></table></figure>

<p>To log the tomcat directory:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew ls tomcat</span><br></pre></td></tr></table></figure>

<p>To start/stop tomcat:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew services start/stop tomcat</span><br></pre></td></tr></table></figure>

<h2 id="Use-manager-page-for-the-deployment"><a href="#Use-manager-page-for-the-deployment" class="headerlink" title="Use manager page for the deployment"></a>Use manager page for the deployment</h2><p>Add role and user in /usr/local/Cellar/../libexec/conf/tomcat-users.xml:</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">tomcat-users</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">role</span> <span class="attr">rolename</span>=<span class="string">&quot;manager-gui&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">role</span> <span class="attr">rolename</span>=<span class="string">&quot;manager-script&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">user</span> <span class="attr">username</span>=<span class="string">&quot;admin&quot;</span> <span class="attr">password</span>=<span class="string">&quot;admin&quot;</span> <span class="attr">roles</span>=<span class="string">&quot;manager-gui, manager-script&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">tomcat-users</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>To modify the default maximum file size to deploy (50M), change file /usr/local/Cellar/../libexec/webapps/manager/WEB-INF/web.xml</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">multipart-config</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">max-file-size</span>&gt;</span>desired size<span class="tag">&lt;/<span class="name">max-file-size</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">max-request-size</span>&gt;</span>desired size<span class="tag">&lt;/<span class="name">max-request-size</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">file-size-threshold</span>&gt;</span>0<span class="tag">&lt;/<span class="name">file-size-threshold</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">multipart-config</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>To display tomcat information:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">catalina -h</span><br></pre></td></tr></table></figure>

<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><p><a target="_blank" rel="noopener" href="http://tomcat.apache.org/">http://tomcat.apache.org/</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

  </div>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><a class="page-number" href="/page/4/">4</a><a class="extend next" rel="next" href="/page/3/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let activeClass = CONFIG.comments.activeClass;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">doraemomo</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">36</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">24</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">37</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">doraemomo</span>
</div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

<script>
  function loadCount() {
    var d = document, s = d.createElement('script');
    s.src = 'https://githubpages-6.disqus.com/count.js';
    s.id = 'dsq-count-scr';
    (d.head || d.body).appendChild(s);
  }
  // defer loading until the whole page loading is completed
  window.addEventListener('load', loadCount, false);
</script>

</body>
</html>
